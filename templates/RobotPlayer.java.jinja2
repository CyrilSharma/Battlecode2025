package current;
import battlecode.common.*;
public class RobotPlayer {
    @SuppressWarnings("unused")
    public static void run(RobotController rc) throws GameActionException {
        {# This is technically unnecessary but this is the easiest way to get a reference to the controller #}
        Globals.init(rc);
        Mopper.init(rc);
        Pathing.init(rc);
        Soldier.init(rc);
        Splasher.init(rc);
        Tower.init(rc);
        TileLoader.init(rc);
        SymmetryChecker.init(rc);
        Attack.init(rc);
        Explore.init(rc);
        {%- macro generate_main_loop(classname) -%}
                while (true) {
                    try {
                        TileLoader.load();
                        Globals.run();
                        {{ classname }}.run();
                        SymmetryChecker.run();
                        // rc.setIndicatorString("Symmetry: " + SymmetryChecker.getSymmetry());
                        // rc.setIndicatorString("Symmetry: R = " + SymmetryChecker.RSYM + " V = " + SymmetryChecker.VSYM + " H = " + SymmetryChecker.HSYM);
                        {% if not prod %}
                        // TileLoader.display();
                        {% endif %}
                    } catch (GameActionException e) {
                        System.out.println("Exception = ");
                        e.printStackTrace();
                    } finally {
                        Clock.yield();
                    }
                }
        {%- endmacro %}
        switch (rc.getType()) {
            {% for name in ['Soldier', 'Mopper', 'Splasher'] -%}
            case {{ name | upper }}: {
                {{ generate_main_loop(name) }}
            }
            {% endfor %}
            default: {
                {{ generate_main_loop('Tower') }}
            }
        }
    }
}
